# 产品管理系统修复计划

## 1. 问题分析

### 1.1 前端问题
- **InputNumber未定义**：ProductForm组件中使用了InputNumber，但没有导入
- **Drawer组件width属性废弃**：使用了deprecated的width属性，应该使用size属性
- **产品列表获取失败**：前端调用API返回500错误

### 1.2 后端问题
- **GET /products返回500错误**：后端服务运行正常，但API请求失败
- **需要检查具体错误原因**：查看后端日志，分析SQL查询或数据库连接问题

### 1.3 文档需求
- **需要提供接口文档**：用于Postman测试

## 2. 修复计划

### 2.1 修复前端问题

#### 2.1.1 修复InputNumber未定义问题
- 修改`d:\code\nb2\frontend\ui\forms\ProductForm.tsx`
- 在import语句中添加InputNumber

#### 2.1.2 修复Drawer组件width属性问题
- 修改`d:\code\nb2\frontend\app\basic-info\products\page.tsx`
- 将Drawer组件的width属性替换为size属性

### 2.2 修复后端问题

#### 2.2.1 检查后端错误日志
- 查看后端服务的详细日志，了解GET /products失败的具体原因
- 检查数据库连接状态
- 检查SQL查询语句是否正确

#### 2.2.2 修复数据库连接或SQL查询问题
- 根据日志分析结果，修复相应的问题
- 可能需要重启后端服务

### 2.3 整理接口文档

#### 2.3.1 整理API接口信息
- 收集所有后端API的URL、方法、请求参数、响应格式
- 包括：获取产品列表、获取单个产品、创建产品、更新产品、删除产品、批量删除产品

#### 2.3.2 生成Postman测试文档
- 按照Postman测试需求，整理接口文档
- 包括：接口URL、请求方法、请求头、请求体、响应示例

## 3. 修复步骤

1. 修复ProductForm组件的InputNumber导入问题
2. 修复Drawer组件的width属性问题
3. 检查后端服务的错误日志
4. 根据日志分析结果修复后端问题
5. 整理并提供接口文档

## 4. 预期效果

- 产品列表页能够正常获取并显示产品数据
- 新建产品弹窗能够正常打开，没有报错
- Drawer组件使用正确的size属性，没有废弃警告
- 提供完整的接口文档，方便使用Postman测试

## 5. 技术要点

- Ant Design 6.0组件使用规范
- Next.js 16 App Router使用
- Go语言后端API调试
- MySQL数据库连接问题排查
- Postman接口测试文档编写

## 6. 风险评估

- 后端服务可能需要重启，导致短暂的服务中断
- 数据库连接问题可能需要重新配置数据库
- 修复过程中可能引入新的问题，需要仔细测试

## 7. 测试计划

- 修复后测试产品列表页的加载
- 测试新建产品功能
- 测试编辑产品功能
- 测试删除产品功能
- 使用Postman测试所有API接口

## 8. 文档交付

- 提供完整的API接口文档，包括：
  - 接口URL
  - 请求方法
  - 请求头
  - 请求参数
  - 响应格式
  - 响应示例
  - 错误处理

现在我将开始执行修复计划，首先修复前端的InputNumber导入问题。